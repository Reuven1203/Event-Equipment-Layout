{"ast":null,"code":"import Card from'./Card';import{usePackage}from'../../Contexts/PackageContext';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var PackageSelector=function PackageSelector(props){var _props$items,_props$items2;var _usePackage=usePackage(),onPackageSelect=_usePackage.onPackageSelect,openModalHandler=_usePackage.openModalHandler,selectedPackage=_usePackage.selectedPackage;var equipmentPrice=(_props$items=props.items)===null||_props$items===void 0?void 0:_props$items.reduce(function(acc,item){return acc+item.price*item.quantity;},0);var onClickHandler=function onClickHandler(){if(props.index==selectedPackage){openModalHandler(true);}else{onPackageSelect(props.index);}};var onGetQuoteClick=function onGetQuoteClick(){openModalHandler(true);};return/*#__PURE__*/_jsxs(Card,{isSelected:props.isSelected,onClick:onClickHandler,children:[/*#__PURE__*/_jsx(\"h2\",{className:'w-full text-center p-2',children:props.title}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:'w-full text-center',children:\"Estimated Price:\"}),/*#__PURE__*/_jsxs(\"h3\",{className:'w-full text-center text-xl font-bold',children:[\" $\",equipmentPrice&&equipmentPrice+props.basePrice]})]}),/*#__PURE__*/_jsx(\"ul\",{className:\"text-[13px] overflow-y-scroll text-center max-h-[40%]\",children:(_props$items2=props.items)===null||_props$items2===void 0?void 0:_props$items2.map(function(item){return/*#__PURE__*/_jsxs(\"li\",{children:[item.quantity,\"x \",item.name,\" \"]},item.name);})}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute bottom-0 w-full p-3 text-center\",children:props.index==selectedPackage?/*#__PURE__*/_jsx(\"button\",{onClick:onGetQuoteClick,className:\"bg-white text-black text-xl rounded-xl w-full\",children:\"Get a quote\"}):/*#__PURE__*/_jsx(\"p\",{className:'outline rounded-2xl text-xl',children:\"Select to preview\"})})]});};export default PackageSelector;","map":{"version":3,"names":["Card","usePackage","jsx","_jsx","jsxs","_jsxs","PackageSelector","props","_props$items","_props$items2","_usePackage","onPackageSelect","openModalHandler","selectedPackage","equipmentPrice","items","reduce","acc","item","price","quantity","onClickHandler","index","onGetQuoteClick","isSelected","onClick","children","className","title","basePrice","map","name"],"sources":["/Users/reuvenostrofsky/Downloads/sound-system/src/Components/PackageSelector/index.tsx"],"sourcesContent":["import {FC} from 'react';\nimport Card from './Card';\nimport { usePackage } from '../../Contexts/PackageContext';\n\ninterface item {\n    name: string;\n    price: number;\n    quantity: number;\n}\n\nconst PackageSelector:FC<{index:number,title:string, items?:item[], basePrice:number, onClick:(arg:number)=> void,isSelected:boolean}> = (props) => {\n    const {onPackageSelect,openModalHandler, selectedPackage} = usePackage();\n    const equipmentPrice = props.items?.reduce((acc, item) => {\n        return acc + item.price * item.quantity;\n    }\n    , 0);\n    const onClickHandler = () => {\n        if(props.index == selectedPackage) {\n            openModalHandler(true);\n        }else {\n            onPackageSelect(props.index);\n        }\n    }\n    const onGetQuoteClick = () => {\n        openModalHandler(true);\n    }\n    return (\n        <Card isSelected={props.isSelected} onClick={onClickHandler}>\n            <h2 className={'w-full text-center p-2'}>{props.title}</h2>\n            <div>\n                <h3 className={'w-full text-center'}>Estimated Price:</h3>\n                <h3 className={'w-full text-center text-xl font-bold'}> ${equipmentPrice && equipmentPrice + props.basePrice}</h3>\n            </div>\n            <ul className=\"text-[13px] overflow-y-scroll text-center max-h-[40%]\">\n                {props.items?.map((item) => {\n                    return (\n                        <li key={item.name}>{item.quantity}x {item.name} </li>\n                    )\n                })}\n            </ul>\n            <div className={`absolute bottom-0 w-full p-3 text-center`}>\n                {props.index == selectedPackage ? <button onClick={onGetQuoteClick} className={`bg-white text-black text-xl rounded-xl w-full`}>Get a quote</button> :\n                    <p className={'outline rounded-2xl text-xl'}>Select to preview</p>}\n            </div>\n        </Card>\n\n    );\n};\n\nexport default PackageSelector;"],"mappings":"AACA,MAAO,CAAAA,IAAI,KAAM,QAAQ,CACzB,OAASC,UAAU,KAAQ,+BAA+B,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAQ3D,GAAM,CAAAC,eAAgI,CAAG,QAAnI,CAAAA,eAAgIA,CAAIC,KAAK,CAAK,KAAAC,YAAA,CAAAC,aAAA,CAChJ,IAAAC,WAAA,CAA4DT,UAAU,CAAC,CAAC,CAAjEU,eAAe,CAAAD,WAAA,CAAfC,eAAe,CAACC,gBAAgB,CAAAF,WAAA,CAAhBE,gBAAgB,CAAEC,eAAe,CAAAH,WAAA,CAAfG,eAAe,CACxD,GAAM,CAAAC,cAAc,EAAAN,YAAA,CAAGD,KAAK,CAACQ,KAAK,UAAAP,YAAA,iBAAXA,YAAA,CAAaQ,MAAM,CAAC,SAACC,GAAG,CAAEC,IAAI,CAAK,CACtD,MAAO,CAAAD,GAAG,CAAGC,IAAI,CAACC,KAAK,CAAGD,IAAI,CAACE,QAAQ,CAC3C,CAAC,CACC,CAAC,CAAC,CACJ,GAAM,CAAAC,cAAc,CAAG,QAAjB,CAAAA,cAAcA,CAAA,CAAS,CACzB,GAAGd,KAAK,CAACe,KAAK,EAAIT,eAAe,CAAE,CAC/BD,gBAAgB,CAAC,IAAI,CAAC,CAC1B,CAAC,IAAK,CACFD,eAAe,CAACJ,KAAK,CAACe,KAAK,CAAC,CAChC,CACJ,CAAC,CACD,GAAM,CAAAC,eAAe,CAAG,QAAlB,CAAAA,eAAeA,CAAA,CAAS,CAC1BX,gBAAgB,CAAC,IAAI,CAAC,CAC1B,CAAC,CACD,mBACIP,KAAA,CAACL,IAAI,EAACwB,UAAU,CAAEjB,KAAK,CAACiB,UAAW,CAACC,OAAO,CAAEJ,cAAe,CAAAK,QAAA,eACxDvB,IAAA,OAAIwB,SAAS,CAAE,wBAAyB,CAAAD,QAAA,CAAEnB,KAAK,CAACqB,KAAK,CAAK,CAAC,cAC3DvB,KAAA,QAAAqB,QAAA,eACIvB,IAAA,OAAIwB,SAAS,CAAE,oBAAqB,CAAAD,QAAA,CAAC,kBAAgB,CAAI,CAAC,cAC1DrB,KAAA,OAAIsB,SAAS,CAAE,sCAAuC,CAAAD,QAAA,EAAC,IAAE,CAACZ,cAAc,EAAIA,cAAc,CAAGP,KAAK,CAACsB,SAAS,EAAK,CAAC,EACjH,CAAC,cACN1B,IAAA,OAAIwB,SAAS,CAAC,uDAAuD,CAAAD,QAAA,EAAAjB,aAAA,CAChEF,KAAK,CAACQ,KAAK,UAAAN,aAAA,iBAAXA,aAAA,CAAaqB,GAAG,CAAC,SAACZ,IAAI,CAAK,CACxB,mBACIb,KAAA,OAAAqB,QAAA,EAAqBR,IAAI,CAACE,QAAQ,CAAC,IAAE,CAACF,IAAI,CAACa,IAAI,CAAC,GAAC,GAAxCb,IAAI,CAACa,IAAuC,CAAC,CAE9D,CAAC,CAAC,CACF,CAAC,cACL5B,IAAA,QAAKwB,SAAS,2CAA6C,CAAAD,QAAA,CACtDnB,KAAK,CAACe,KAAK,EAAIT,eAAe,cAAGV,IAAA,WAAQsB,OAAO,CAAEF,eAAgB,CAACI,SAAS,gDAAkD,CAAAD,QAAA,CAAC,aAAW,CAAQ,CAAC,cAChJvB,IAAA,MAAGwB,SAAS,CAAE,6BAA8B,CAAAD,QAAA,CAAC,mBAAiB,CAAG,CAAC,CACrE,CAAC,EACJ,CAAC,CAGf,CAAC,CAED,cAAe,CAAApB,eAAe"},"metadata":{},"sourceType":"module","externalDependencies":[]}